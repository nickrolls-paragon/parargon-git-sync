"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSecretIdForKey = exports.nonExistentSecretKeys = void 0;
const crypto_1 = require("crypto");
exports.nonExistentSecretKeys = [];
const getSecretIdForKey = (key, dependencies) => {
    if (!dependencies || !dependencies.secrets || !key) {
        return key;
    }
    let secretHash = dependencies.secrets.find((secret) => secret.key === key)?.hash;
    if (!secretHash) {
        secretHash = (0, crypto_1.createHash)('md5').update(key).digest('hex');
        const newSecretDTO = { key, hash: secretHash };
        dependencies.secrets.push(newSecretDTO);
    }
    return secretHash;
};
exports.getSecretIdForKey = getSecretIdForKey;
//# sourceMappingURL=secret.utils.js.map