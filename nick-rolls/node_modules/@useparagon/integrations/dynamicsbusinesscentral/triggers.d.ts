import { ConditionalInput } from '@useparagon/core/steps/library/conditional';

/**
 * Record Created intent type
 */
type DynamicsBusinessCentralTriggerRecordCreated = {
  /**
   * Apply field mapping
   *
   * **Example**:
   * ```
   * {{userSettings.MappingInput.objectMapping}}
   * ```
   */
  objectMapping?: string;
} & (
  | {
      /**
       * Record Type
       *
       */
      recordType: 'purchaseInvoices';

      /**
       * Filter records
       * Only trigger on records that match these filters.
       *
       * **Example**:
       * ```
       * Field
       * ```
       */
      businessCentralFilterFormula?: ConditionalInput;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'vendors';

      /**
       * Filter records
       * Only trigger on records that match these filters.
       *
       * **Example**:
       * ```
       * Field
       * ```
       */
      businessCentralFilterFormula?: ConditionalInput;
    }
);

/**
 * Record Updated intent type
 */
type DynamicsBusinessCentralTriggerRecordUpdated = {
  /**
   * Apply field mapping
   *
   * **Example**:
   * ```
   * {{userSettings.MappingInput.objectMapping}}
   * ```
   */
  objectMapping?: string;
} & (
  | {
      /**
       * Record Type
       *
       */
      recordType: 'purchaseInvoices';

      /**
       * Filter records
       * Only trigger on records that match these filters.
       *
       * **Example**:
       * ```
       * Field
       * ```
       */
      businessCentralFilterFormula?: ConditionalInput;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'vendors';

      /**
       * Filter records
       * Only trigger on records that match these filters.
       *
       * **Example**:
       * ```
       * Field
       * ```
       */
      businessCentralFilterFormula?: ConditionalInput;
    }
);

/**
 * Record Deleted intent type
 */
type DynamicsBusinessCentralTriggerRecordDeleted = {
  /**
   * Record Type
   *
   */
  recordType: 'purchaseInvoices' | 'vendors';

  /**
   * Apply field mapping
   *
   * **Example**:
   * ```
   * {{userSettings.MappingInput.objectMapping}}
   * ```
   */
  objectMapping?: string;
};

export type IntentToInputOutput = {
  /**
   * DYNAMICS_BUSINESS_CENTRAL_TRIGGER_RECORD_CREATED
   */
  DYNAMICS_BUSINESS_CENTRAL_TRIGGER_RECORD_CREATED: [
    DynamicsBusinessCentralTriggerRecordCreated,
    any,
  ];

  /**
   * DYNAMICS_BUSINESS_CENTRAL_TRIGGER_RECORD_UPDATED
   */
  DYNAMICS_BUSINESS_CENTRAL_TRIGGER_RECORD_UPDATED: [
    DynamicsBusinessCentralTriggerRecordUpdated,
    any,
  ];

  /**
   * DYNAMICS_BUSINESS_CENTRAL_TRIGGER_RECORD_DELETED
   */
  DYNAMICS_BUSINESS_CENTRAL_TRIGGER_RECORD_DELETED: [
    DynamicsBusinessCentralTriggerRecordDeleted,
    any,
  ];
};
