import { ConditionalInput } from '@useparagon/core/steps/library/conditional';

/**
 * Create Record intent type
 */
type CloseCreateRecord = {} & (
  | {
      /**
       * Record Type
       *
       */
      recordType: 'lead';

      /**
       * Name
       * Specify the name of the lead.
       *
       */
      name?: string;

      /**
       * Description
       * Specify a description for this lead.
       *
       */
      leadDescription?: string;

      /**
       * Contacts
       * Specify contact details as JSON to attach to this lead.
       *
       * **Example**:
       * ```
       * [
       *  {
       *    "name": "Gob",
       *    "title": "Sr. Vice President",
       *    "emails": [
       *      {
       *        "type": "office",
       *        "email": "gob@example.com"
       *      }
       *    ],
       *    "phones": [
       *      {
       *        "type": "office",
       *        "phone": "8004445555"
       *      }
       *    ]
       *  }
       *]
       * ```
       */
      leadContact?: string;

      /**
       * Addresses
       * Specify address details as JSON to attach to this lead.
       *
       * **Example**:
       * ```
       * [
       *  {
       *    "label": "business",
       *    "address_1": "747 Howard St",
       *    "address_2": "Room 3",
       *    "city": "San Francisco",
       *    "state": "CA",
       *    "zipcode": "94103",
       *    "country":"US",
       *  }
       *]
       * ```
       */
      leadAddress?: string;

      /**
       * Status
       * Use Connect Portal Workflow Settings to allow users to select Status use for this lead.
       *
       */
      status?: string;

      /**
       * Additional Fields
       *
       * **Example**:
       * ```
       * {
       *  "confidence": 90,
       *  "value_period": "monthly",
       *  "custom.cf_j0P7kHmgFTZZnYBFtyPSZ3uQw4dpW8xKcW7Krps8atj": "https://www.example.com/contract.pdf"
       *}
       * ```
       */
      leadAdditionalFields?: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'opportunity';

      /**
       * Lead ID
       * Specify the ID of the Lead this opportunity is associated with.
       *
       */
      leadId: string;

      /**
       * Value
       * Specify a value for this opportunity.
       *
       * **Example**:
       * ```
       * 500
       * ```
       */
      value?: string;

      /**
       * Note
       * Specify a note to attach to this opportunity
       *
       */
      note?: string;

      /**
       * Status
       * Use Connect Portal Workflow Settings to allow users to select Status use for this opportunity.
       *
       */
      opportunityStatus?: string;

      /**
       * Confidence
       *
       */
      confidence?: string;

      /**
       * Additional Fields
       *
       * **Example**:
       * ```
       * {
       *  "value_period": "monthly",
       *  "custom.cf_j0P7kHmgFTZZnYBFtyPSZ3uQw4dpW8xKcW7Krps8atj": "https://www.example.com/contract.pdf"
       *}
       * ```
       */
      opportunityAdditionalFields?: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'contact';

      /**
       * Lead ID
       * Specify ID of the Lead this contact is associated with.
       *
       */
      leadId: string;

      /**
       * Name
       * Specify a name for this contact.
       *
       */
      name?: string;

      /**
       * Title
       * Specify a title for this contact.
       *
       * **Example**:
       * ```
       * President
       * ```
       */
      title?: string;

      /**
       * Phones
       *
       * **Example**:
       * ```
       * [
       *  {"phone":"9045551234","type":"mobile"}
       *]
       * ```
       */
      phone?: string;

      /**
       * Emails
       *
       * **Example**:
       * ```
       * [
       *  {"email":"john@example.com","type":"office"}
       *]
       * ```
       */
      email?: string;

      /**
       * Urls
       *
       * **Example**:
       * ```
       * [
       *  {"url":"http://twitter.com/google/","type":"url"}
       *]
       * ```
       */
      urls?: string;

      /**
       * Additional Fields
       *
       * **Example**:
       * ```
       * {
       *  "custom.cf_FSYEbxYJFsnY9tN1OTAPIF33j7Sw5Lb7Eawll7JzoNh": "Account Executive",
       *}
       * ```
       */
      contactAdditionalFields?: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'task';

      /**
       * Lead ID
       * Specify ID of the Lead this task is associated with.
       *
       */
      leadId: string;

      /**
       * Title
       * Specify a title for this contact.
       *
       * **Example**:
       * ```
       * Connect with Account Manager
       * ```
       */
      title: string;

      /**
       * Assigned To
       * Use Connect Portal Workflow Settings to allow users to select user to assign this task to.
       *
       * **Example**:
       * ```
       * {{settings.user}}
       * ```
       */
      assignedTo?: string;

      /**
       * Date
       *
       * **Example**:
       * ```
       * 2013-02-06
       * ```
       */
      date?: string;

      /**
       * Mark task as completed
       *
       */
      isComplete: boolean;
    }
);

/**
 * Update Record intent type
 */
type CloseUpdateRecord = {} & (
  | {
      /**
       * Record Type
       *
       */
      recordType: 'lead';

      /**
       * Lead ID
       * Specify the Id of Lead to update.
       *
       */
      leadId: string;

      /**
       * Name
       * Specify the name of the lead.
       *
       */
      name?: string;

      /**
       * Description
       * Specify a description for this lead.
       *
       */
      leadDescription?: string;

      /**
       * Contacts
       * Specify contact details as JSON to attach to this lead.
       *
       * **Example**:
       * ```
       * [
       *  {
       *    "name": "Gob",
       *    "title": "Sr. Vice President",
       *    "emails": [
       *      {
       *        "type": "office",
       *        "email": "gob@example.com"
       *      }
       *    ],
       *    "phones": [
       *      {
       *        "type": "office",
       *        "phone": "8004445555"
       *      }
       *    ]
       *  }
       *]
       * ```
       */
      leadContact?: string;

      /**
       * Addresses
       * Specify address details as JSON to attach to this lead.
       *
       * **Example**:
       * ```
       * [
       *  {
       *    "label": "business",
       *    "address_1": "747 Howard St",
       *    "address_2": "Room 3",
       *    "city": "San Francisco",
       *    "state": "CA",
       *    "zipcode": "94103",
       *    "country":"US",
       *  }
       *]
       * ```
       */
      leadAddress?: string;

      /**
       * Status
       * Use Connect Portal Workflow Settings to allow users to select Status use for this lead.
       *
       */
      status?: string;

      /**
       * Additional Fields
       *
       * **Example**:
       * ```
       * {
       *  "confidence": 90,
       *  "value_period": "monthly",
       *  "custom.cf_j0P7kHmgFTZZnYBFtyPSZ3uQw4dpW8xKcW7Krps8atj": "https://www.example.com/contract.pdf"
       *}
       * ```
       */
      leadAdditionalFields?: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'opportunity';

      /**
       * Opportunity ID
       * Specify Id of opportunity to update.
       *
       */
      opportunityId: string;

      /**
       * Value
       * Specify a value for this opportunity.
       *
       * **Example**:
       * ```
       * 500
       * ```
       */
      value?: string;

      /**
       * Note
       * Specify a note to attach to this opportunity
       *
       */
      note?: string;

      /**
       * Status
       * Use Connect Portal Workflow Settings to allow users to select Status use for this opportunity.
       *
       */
      opportunityStatus?: string;

      /**
       * Confidence
       *
       */
      confidence?: string;

      /**
       * Additional Fields
       *
       * **Example**:
       * ```
       * {
       *  "value_period": "monthly",
       *  "custom.cf_j0P7kHmgFTZZnYBFtyPSZ3uQw4dpW8xKcW7Krps8atj": "https://www.example.com/contract.pdf"
       *}
       * ```
       */
      opportunityAdditionalFields?: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'contact';

      /**
       * Contact ID
       * Specify the of Contact to update
       *
       */
      contactId: string;

      /**
       * Name
       * Specify a name for this contact.
       *
       */
      name?: string;

      /**
       * Title
       * Specify a title for this contact.
       *
       * **Example**:
       * ```
       * President
       * ```
       */
      title?: string;

      /**
       * Phones
       *
       * **Example**:
       * ```
       * [
       *  {"phone":"9045551234","type":"mobile"}
       *]
       * ```
       */
      phone?: string;

      /**
       * Emails
       *
       * **Example**:
       * ```
       * [
       *  {"email":"john@example.com","type":"office"}
       *]
       * ```
       */
      email?: string;

      /**
       * Urls
       *
       * **Example**:
       * ```
       * [
       *  {"url":"http://twitter.com/google/","type":"url"}
       *]
       * ```
       */
      urls?: string;

      /**
       * Additional Fields
       *
       * **Example**:
       * ```
       * {
       *  "custom.cf_FSYEbxYJFsnY9tN1OTAPIF33j7Sw5Lb7Eawll7JzoNh": "Account Executive",
       *}
       * ```
       */
      contactAdditionalFields?: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'task';

      /**
       * Task ID
       * Specify Id of the task to update.
       *
       */
      taskId: string;

      /**
       * Title
       * Specify a title for this contact.
       *
       * **Example**:
       * ```
       * Connect with Account Manager
       * ```
       */
      title: string;

      /**
       * Assigned To
       * Use Connect Portal Workflow Settings to allow users to select user to assign this task to.
       *
       * **Example**:
       * ```
       * {{settings.user}}
       * ```
       */
      assignedTo?: string;

      /**
       * Date
       *
       * **Example**:
       * ```
       * 2013-02-06
       * ```
       */
      date?: string;

      /**
       * Mark task as completed
       *
       */
      isComplete: boolean;
    }
);

/**
 * Get Record by ID intent type
 */
type CloseGetRecordById = {} & (
  | {
      /**
       * Record Type
       *
       */
      recordType: 'lead';

      /**
       * Lead ID
       * Specify the ID of lead to fetch
       *
       */
      leadId: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'opportunity';

      /**
       * Opportunity ID
       * Specify the ID of opportunity to fetch
       *
       */
      opportunityId: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'contact';

      /**
       * Contact ID
       * Specify the ID of contact to fetch
       *
       */
      contactId: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'task';

      /**
       * Task ID
       * Specify the ID of task to fetch
       *
       */
      taskId: string;
    }
);

/**
 * Search Record intent type
 */
type CloseSearchRecord = {} & (
  | {
      /**
       * Record Type
       *
       */
      recordType: 'opportunity';

      /**
       * Filter search
       * Search for opportunity that match specified filters.
       *
       * **Example**:
       * ```
       * field
       * ```
       */
      opportunityFilterFormula?: ConditionalInput;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'task';

      /**
       * Filter search
       * Search for task that match specified filters.
       *
       * **Example**:
       * ```
       * field
       * ```
       */
      taskFilterFormula?: ConditionalInput;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'lead' | 'contact';
    }
);

/**
 * Delete Record intent type
 */
type CloseDeleteRecord = {} & (
  | {
      /**
       * Record Type
       *
       */
      recordType: 'lead';

      /**
       * Lead ID
       * Specify the ID of lead to delete
       *
       */
      leadId: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'opportunity';

      /**
       * Opportunity ID
       * Specify the ID of opportunity to delete
       *
       */
      opportunityId: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'contact';

      /**
       * Contact ID
       * Specify the ID of contact to delete
       *
       */
      contactId: string;
    }
  | {
      /**
       * Record Type
       *
       */
      recordType: 'task';

      /**
       * Task ID
       * Specify the ID of task to delete
       *
       */
      taskId: string;
    }
);

/**
 * Search records by JSON filter intent type
 */
type CloseAdvancedFiltering = {
  /**
   * Record Type
   *
   */
  recordType: 'lead' | 'opportunity' | 'contact' | 'task';

  /**
   * Json Filter
   *
   * **Example**:
   * ```
   * {
   *  "query":{
   *    "queries": [
   *      {
   *        "object_type": "contact",
   *        "type": "object_type"
   *      },
   *      {
   *        "type": "field_condition",
   *        "field": {
   *          "object_type": "contact",
   *          "type": "regular_field",
   *          "field_name": "title"
   *        },
   *        "condition": {
   *          "type": "text",
   *          "mode": "full_words",
   *          "value": "CEO"
   *        }
   *      }
   *    ],
   *    "type": "and",
   *    },
   *  "_fields": {
   *    "contact": ["id", "name", "title"]
   *  }
   *}
   * ```
   */
  jsonFilter: string;
};

export type IntentToInputOutput = {
  /**
   * CLOSE_CREATE_RECORD
   */
  CLOSE_CREATE_RECORD: [CloseCreateRecord, any];

  /**
   * CLOSE_UPDATE_RECORD
   */
  CLOSE_UPDATE_RECORD: [CloseUpdateRecord, any];

  /**
   * CLOSE_GET_RECORD_BY_ID
   */
  CLOSE_GET_RECORD_BY_ID: [CloseGetRecordById, any];

  /**
   * CLOSE_SEARCH_RECORD
   */
  CLOSE_SEARCH_RECORD: [CloseSearchRecord, any];

  /**
   * CLOSE_DELETE_RECORD
   */
  CLOSE_DELETE_RECORD: [CloseDeleteRecord, any];

  /**
   * CLOSE_ADVANCED_FILTERING
   */
  CLOSE_ADVANCED_FILTERING: [CloseAdvancedFiltering, any];
};
