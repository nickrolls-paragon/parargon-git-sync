import { ConditionalInput } from '@useparagon/core/steps/library/conditional';

/**
 * Record Created intent type
 */
type PipedriveTriggerRecordCreated = {
  /**
   * Record Type
   *
   */
  recordType:
    | 'activities'
    | 'activities_v2'
    | 'deals'
    | 'deals_v2'
    | 'organizations'
    | 'organizations_v2'
    | 'persons'
    | 'persons_v2'
    | 'notes';

  /**
   * Filter records
   * Only trigger on records that match these filters.
   *
   */
  triggerFilterFormula?: ConditionalInput;

  /**
   * Apply field mapping
   *
   * **Example**:
   * ```
   * {{userSettings.MappingInput.objectMapping}}
   * ```
   */
  objectMapping?: string;
};

/**
 * Record Updated intent type
 */
type PipedriveTriggerRecordUpdated = {
  /**
   * Record Type
   *
   */
  recordType:
    | 'activities'
    | 'activities_v2'
    | 'deals'
    | 'deals_v2'
    | 'organizations'
    | 'organizations_v2'
    | 'persons'
    | 'persons_v2'
    | 'notes';

  /**
   * Filter records
   * Only trigger on records that match these filters.
   *
   */
  triggerFilterFormula?: ConditionalInput;

  /**
   * Apply field mapping
   *
   * **Example**:
   * ```
   * {{userSettings.MappingInput.objectMapping}}
   * ```
   */
  objectMapping?: string;
};

/**
 * Lead Created intent type
 */
type PipedriveTriggerLeadCreated = {
  /**
   * Apply field mapping
   *
   * **Example**:
   * ```
   * {{userSettings.MappingInput.objectMapping}}
   * ```
   */
  objectMapping?: string;
};

export type IntentToInputOutput = {
  /**
   * PIPEDRIVE_TRIGGER_RECORD_CREATED
   */
  PIPEDRIVE_TRIGGER_RECORD_CREATED: [PipedriveTriggerRecordCreated, any];

  /**
   * PIPEDRIVE_TRIGGER_RECORD_UPDATED
   */
  PIPEDRIVE_TRIGGER_RECORD_UPDATED: [PipedriveTriggerRecordUpdated, any];

  /**
   * PIPEDRIVE_TRIGGER_LEAD_CREATED
   */
  PIPEDRIVE_TRIGGER_LEAD_CREATED: [PipedriveTriggerLeadCreated, any];
};
